<p>Add User</p>
<div>
  <form [formGroup]="userForm" (ngSubmit)="onSubmit()">
    <label>
      Name:
      <input type="text" formControlName="name" />
    </label>
    <div *ngIf="userForm.get('name')?.invalid && userForm.get('name')?.touched">
      Name is required
    </div>

    <label>
      Password:
      <input type="text" formControlName="password" />
    </label>
    <div *ngIf="userForm.get('password')?.invalid && userForm.get('password')?.touched">
      Password is required
    </div>

    <label>
      Email:
      <input type="email" formControlName="email" />
    </label>
    <div *ngIf="userForm.get('email')?.invalid && userForm.get('email')?.touched">
      Enter a valid email
    </div>
    <br>
    <button type="submit" [disabled]="userForm.invalid">Submit</button>
  </form>
</div>

<span>
<div *ngIf="id && token">
  <label>
    User created with ID: {{id}}
    User created with token: {{token}}
  </label>
</div>
</span>

<!-- ðŸ”¹ Popup error using ng-template -->
<ng-template #errorPopup>
  <div class="popup">
    <span>{{ errorMessage }}</span>
    <button (click)="closeError()">âœ–</button>
  </div>
</ng-template>

<!-- Render popup if errorMessage exists -->
<ng-container *ngIf="errorMessage">
  <ng-container *ngTemplateOutlet="errorPopup"></ng-container>
</ng-container>